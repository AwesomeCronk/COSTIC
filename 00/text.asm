; Text handling
; Contains the ASCII charset and functions for displaying text

; D = xpos
; E = ypos
; C = char
PutCharPx:
    push bc
    ld b, 0             ; BC = C but 16-bit
    push bc \ pop hl    ; HL = BC
    add hl, hl          ; HL *= 8
    add hl, hl
    add hl, hl
    ld bc, ASCII        ; BC = ASCII
    add hl, bc          ; HL += BC
    
    ld iy, $8100
	ld b, 8
	call PutSpriteOR
    pop bc

    ret

; D = xpos
; E = ypos
; C = char
; Destroys: A
PutChar:
    ld a, d     ; A = D
    add a, a    ; A *= 4
    add a, a
    add a, d    ; A += (D * 2)
    add a, d
    ld d, a     ; D = A

    ld a, e     ; A = E
    add a, a    ; A *= 8
    add a, a
    add a, a
    ld e, a

    call PutCharPx

    ret

ASCII:
ASCII_NUL:  ; 0x00
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    
ASCII_SOH:  ; 0x01
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    
ASCII_STX:  ; 0x02
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %10010000
    .db %11001000
    .db %10110000
    .db %00000000
    
ASCII_ETX:  ; 0x03
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %10001000
    .db %10101000
    .db %01110000
    .db %00000000
    
ASCII_EOT:  ; 0x04
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %00111000
    .db %00100000
    .db %11111000
    .db %00000000
    
ASCII_ENQ:  ; 0x05
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %10111000
    .db %10101000
    .db %01001000
    .db %00000000
    
ASCII_ACK:  ; 0x06
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %01110000
    .db %10101000
    .db %01001000
    .db %00000000
    
ASCII_BEL:  ; 0x07
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %00001000
    .db %11101000
    .db %00011000
    .db %00000000
    
ASCII_BS:   ; 0x08
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %01010000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_TAB:  ; 0x09
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %10010000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_LF:   ; 0x0A
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %11110000
    .db %00101000
    .db %11110000
    .db %00000000
    
ASCII_VT:   ; 0x0B
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %11111000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_FF:   ; 0x0C
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %01110000
    .db %10001000
    .db %10001000
    .db %00000000
    
ASCII_CR:   ; 0x0D
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %11111000
    .db %10001000
    .db %01110000
    .db %00000000
    
ASCII_SO:   ; 0x0E
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %11111000
    .db %10101000
    .db %10001000
    .db %00000000
    
ASCII_SI:   ; 0x0F
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    .db %11111000
    .db %00101000
    .db %00001000
    .db %00000000

ASCII_DLE:  ; 0x10
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %01110000
    .db %10001000
    .db %01110000
    .db %00000000
    
ASCII_DC1:  ; 0x11
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    
ASCII_DC2:  ; 0x12
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %10010000
    .db %11001000
    .db %10110000
    .db %00000000
    
ASCII_DC3:  ; 0x13
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %10001000
    .db %10101000
    .db %01110000
    .db %00000000
    
ASCII_DC4:  ; 0x14
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %00111000
    .db %00100000
    .db %11111000
    .db %00000000
    
ASCII_NAK:  ; 0x15
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %10111000
    .db %10101000
    .db %01001000
    .db %00000000
    
ASCII_SYN:  ; 0x16
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %01110000
    .db %10101000
    .db %01001000
    .db %00000000
    
ASCII_ETB:  ; 0x17
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %00001000
    .db %11101000
    .db %00011000
    .db %00000000
    
ASCII_CAN:  ; 0x18
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %01010000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_EM:   ; 0x19
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %10010000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_SUB:  ; 0x1A
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %11110000
    .db %00101000
    .db %11110000
    .db %00000000
    
ASCII_ESC:  ; 0x1B
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %11111000
    .db %10101000
    .db %01010000
    .db %00000000
    
ASCII_FS:   ; 0x1C
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %01110000
    .db %10001000
    .db %10001000
    .db %00000000
    
ASCII_GS:   ; 0x1D
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %11111000
    .db %10001000
    .db %01110000
    .db %00000000
    
ASCII_RS:   ; 0x1E
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %11111000
    .db %10101000
    .db %10001000
    .db %00000000
    
ASCII_US:   ; 0x1F
    .db %10010000
    .db %11111000
    .db %10000000
    .db %00000000
    .db %11111000
    .db %00101000
    .db %00001000
    .db %00000000
    
ASCII_SPC:  ; 0x20
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    
ASCII_EXC:  ; 0x21
    .db %00100000
    .db %00100000
    .db %00100000
    .db %00100000
    .db %00000000
    .db %00100000
    .db %00000000
    .db %00000000
    
ASCII_DQT:  ; 0x22
    .db %01001000
    .db %01001000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    .db %00000000
    
ASCII_SHP:  ; 0x23
    .db %00000000
    .db %01010000
    .db %11111000
    .db %01010000
    .db %11111000
    .db %01010000
    .db %00000000
    .db %00000000
    
ASCII_DLR:  ; 0x24
    .db %00100000
    .db %01111000
    .db %11100000
    .db %01110000
    .db %00111000
    .db %11110000
    .db %00100000
    .db %00000000
    
ASCII_PCT:  ; 0x25
    .db %00000000
    .db %11001000
    .db %11010000
    .db %00100000
    .db %01011000
    .db %10011000
    .db %00000000
    .db %00000000
    